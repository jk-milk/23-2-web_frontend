# 구조분해 할당: Destructuring Assignment
- 배열의 요소나 객체의 속성을 분해하여 그 값을 각각의 변수에 할당하는 JS 표현식
- [변수명1, 변수명2, ... ]=배열명, {변수명1, 변수명2, ...}=객체명;
- {변수명1, 변수명2, ...}=객체명;
  - 변수명은 객체의 속성명으로 존재해야 함


## 객체구조분해 할당
```js
const user = { // 객체 정의
  // key:value
  name:'홍길동',
  age:20,
  isMan:true,
};

console.log(name);
console.log(user.name); // 홍길동

// 일반적인 코딩 (구조분해할당x)
const name = user.name;
const age = user.age;
const isMan = user.isMan;

// 구조분해할당 적용
const {name, age, isMan} = user;
// 구조분해할당 시 순서는 상관없음
const {age, isMan, name} = user;

// 객체를 정의하면서 바로 구조분해할당 가능

const {a, b, c} = {a:'신사임당', b:40, c:true};
console.log(a, b, c);

// 구조분해할당하면서 변수명 변경하기
// {변수명1:변경변수명1, ...}
const {a:userName, b:userAge, c:userIsMan} = {a:'이순신', b=40, c=true};
console.log(userName, userAge, userIsMan);

// 필요하지 않은 데이터는 skip
const {age, name} = user;
```


## 배열구조분해 할당
```js
// 배열 정의
const ar = [2023, 9, 18];
const [year, month, day] = ar;
const [year, month, day] = [2023, 9, 18];

// 순서 중요
const [month, year, day] = [2023, 9, 18];
console.log(year, month, day);

// 필요하지 않은 데이터 처리: empty처리
const ar2 = [1, 2, 3, 4, 5];
const [one, two, five] = ar2; // 1 2 5 출력하는 의도
console.log(one, two, five);  // 1 2 3

const ar2 = [1, 2, 3, 4, 5];
const [one, two,,, five] = ar2;
console.log(one, two, five);  // 1 2 5


```

## 복잡한 구조의 객체에 대한 구조분해 할당: 중첩된 객체
```js
const someData = { // 중첩 객체의 정의
  a: 'KT',
  b: [
    {name:'홍길동', sns:[], address:'대구 수성구 수성동 수성APT 1동 234호', email:'mr.hong@kt.com'},
    {name:'김영진', sns:[], address:'대구 북구 복현동 복현APT 2동 345호', email:'kyj@yju.ac.kr'},
  ],
  c: '....',
  d: '....',
};

// 필요한 데이터만 구조분해 할당: skip 처리
// userName, userCompany, userEmail

const {a:userCompany, b:[name:userName], b:[email:userEmail]} = someData;
console.log(userCompany, userName, userEmail);


```

## 반복문에서의 구조분해할당:  for...of //for...in
```js
// 객체의 정의
const contest = [
  {team:'skyblue', members:{member1:'aaa',member2:'bbb',member3:'ccc',leader:'abc'},nationality:'KOREA'},
  {team:'reddog', members:{member1:'xxx',member2:'yyy',member3:'zzz',leader:'xyz'},nationality:'JAPAN'},
  {team:'whitehouse', members:{member1:'111',member2:'222',member3:'333',leader:'123'},nationality:'CHINA'},
];

for { let {team:t, members:{leader:l}} /* 구조분해할당 구문*/ of contest}{
  //console.log('팀명 '+ t + ' => 팀장:' + l);
  console.log(`팀명: ${t} => 팀장: + ${l}`); // 템플릿 문자열로 구현
}
```

## 함수의 파라미터에서의 구조분해할당
- react props의 구조분해할당

```js
// 객체정의
const member = {
  id: 'mr.kim',
  koreanName: '김유신',
  englishName: {firstName:'YuSin', lastName:'Kim', middleName:''},
};

function getName({id, koreanName}){
  return [id, koreanName];
}

console.log(getName(member));

function getEnglishName({englishName:{firstName, lastName}}) {
  return [firstName, lastName];
}

console.log(getEnglishName(member));

```

## 동적 변수처리하여 파라미터에서 구조분해할당
```js

const person = {
  pastime: {
    a: '영화감상',
    b: '음악감상',
    c: '등산',
  }
};

function printPastime(obj, choice) {
  let { [choice] : userPastime = 'Unknown' } = obj;
  console.log(`당신의 취미는 ${userPastime}입니다`);
};

printPastime(person.pastime, 'a');
```

## ...연산자

### rest 연산
 - 객체와 배열, 함수의 파라미터에서 넘겨 받은 값을 묶어 줄 때 사용
 - 함수 정의시사용하는 연산자
 - {...변수명}, [...변수명]
    - 변수명을 관례적으로 rest함
    - [...rest] or {...rest}

```js
// [1]
// 객체정의
const animals = [
    {name:'a', age:1},
    {name:'b', age:2},
    {name:'c', age:3},
    {name:'d', age:4},
];

const {...rest} = animals;
console.log(rest);
animals.push({name:'e', age:5}); // 리액트에서 데이터의 변경을 다른 방식 사용

// [2]
const someObj = {
    name:'홍박사',
    age:28,
    greeting:'안녕',
};

const { name, ...rest } = someObj;
console.log(name, rest);

// [3] React에서 데이터의 변경을 인식시키는 방식
const family = {
    father: '철수',
};
const family2 = {
    ...family,
    mother: '영희',
};
const family3 = {
    ...family2,
    child: '맹구',
};
console.log(family, family2, family3);

// 배열에서 데이터 변경 인식
const zooAnimals = ['하마', '코끼리', '비둘기'];
const newZooAnimals = [...zooAnimals, '코끼리'];
console.log(zooAnimals, newZooAnimals);

// rest 패턴의 실제 사용해서
// [1] 함수 정의 할 때
function printNumber(a,b,c,...rest) {
    console.log(a,b,c);
    console.log(rest);
}

printNumber(1,2,3,4,5,6,7,8,9);
```
### spread 연산
 - 함수 호출시 사용하는 연산자
 ```js
 // spread패턴 실제 사용 예시
 // [1] 함수 호출할 때

 function printSum(a,b,c) {
    return a+b+c;
 }
 const arNum = [ 100, 200, 300 ]; // printSum( 100, 200, 300 );
 console.log(printSum(...arNum));
 ```

 ## 리액트에서 구조분해할당 사용예시
 ```js
 // [1]
 import React.{Container,Navbar,....} from 'react';
 // [2]
 const [inputData, setInputData] = useState(
    {
        name: '',
        age: '',
        email: '',
    }
 );
 // [3]
 {name, age, email} = inputData;
 {name,...testDD} // push() 같은거안쓰고 이런식으로 데이터를 추가한다
 ```